<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>LED Based Solar Simulator</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="overview.html"><strong aria-hidden="true">1.</strong> Summary</a></li><li class="chapter-item expanded "><a href="pcb/overview.html"><strong aria-hidden="true">2.</strong> PCB Design</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="pcb/schematic.html"><strong aria-hidden="true">2.1.</strong> Schematic</a></li><li class="chapter-item expanded "><a href="pcb/led.html"><strong aria-hidden="true">2.2.</strong> LED Board</a></li><li class="chapter-item expanded "><a href="pcb/power.html"><strong aria-hidden="true">2.3.</strong> Power Board</a></li></ol></li><li class="chapter-item expanded "><a href="uc/overview.html"><strong aria-hidden="true">3.</strong> Microcontroller Software Design</a></li><li class="chapter-item expanded "><a href="gui/overview.html"><strong aria-hidden="true">4.</strong> Front-end Software Design</a></li><li class="chapter-item expanded "><a href="conclusions.html"><strong aria-hidden="true">5.</strong> Conclusions</a></li><li class="chapter-item expanded "><a href="tshoot.html"><strong aria-hidden="true">6.</strong> Troubleshooting</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">LED Based Solar Simulator</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p><img src="./assets/logo_uwstout.png" alt="Univeristy of Wisconsin-Stout" /></p>
<h1><a class="header" href="#design-overview" id="design-overview">Design Overview</a></h1>
<h2><a class="header" href="#project-outline" id="project-outline">Project outline</a></h2>
<p>Current solar simulators that are used in solar power research utilize xenon arc lamps. They are used due to the relatively close spectral match to daylight, their small size, and commercial availability in powers of upwards of 12kW. The main drawbacks of this technology is their rather low luminous efficacy, which means that only about 5-7% of the power drawn by the lamp is converted to usable light. This is contrasted with the efficacy of LEDs, which can convert 25-30% of power drawn into usable light. Thus the goal of this project is to have the good spectral match of xenon arc lamps while retaining the efficiency advantage of modern LEDs.</p>
<h2><a class="header" href="#project-objectives" id="project-objectives">Project objectives</a></h2>
<ul>
<li>Use only off-the-shelf components</li>
<li>Create a system that is modular, for expansion later</li>
<li>Have a reasonably accurate spectral match</li>
<li>Total radiative output of at least 200 watts</li>
<li>Ability to dim</li>
<li>Ability to log data</li>
</ul>
<h2><a class="header" href="#our-solution" id="our-solution">Our Solution</a></h2>
<p>The approach we took split us up into three teams that each tackled one part of the project:</p>
<ul>
<li><a href="./pcb/overview.html">PCB Design</a></li>
<li><a href="./gui/overview.html">GUI Development</a></li>
<li><a href="./uc/overview.html">Microcontroller software development</a></li>
</ul>
<h1><a class="header" href="#pcb-design-overview" id="pcb-design-overview">PCB Design Overview</a></h1>
<p>The PCB Design team consisted of Eli Kopendahka and Jack Hayes.</p>
<h2><a class="header" href="#design-process" id="design-process">Design Process</a></h2>
<p>We folowed a pretty simple design process</p>
<pre><code>┌───────────────────────┐
│                       │
│    Research Problem   │
│                       │
└───────────┬───────────┘
            │
            ▼
┌───────────────────────┐
│                       │
│  Define Requirements  │
│                       │
└───────────┬───────────┘
            │
            ▼
┌───────────────────────┐
│                       │
│     Create Models     │
│                       │
└───────────┬───────────┘
            │
            ▼
┌───────────────────────┐
│                       │
│     Select a model    │
│                       │
└───────────┬───────────┘
            │
            ▼
┌───────────────────────┐
│                       │
│  Design and prototype │◄─────────────────────┐
│                       │                      │
└───────────┬───────────┘                      │
            │                         ┌────────┴─────────┐
            ▼                         │                  │
┌───────────────────────┐             │                  │
│                       │◄────────────┤                  │
│          Test         │             │   Make changes   │
│                       ├────────────►│                  │
└───────────┬───────────┘             │                  │
            │                         │                  │
            ▼                         └──────────────────┘
┌───────────────────────┐                      ▲
│                       │                      │
│    Evaluate Design    ├──────────────────────┘
│                       │
└───────────┬───────────┘
            │
            ▼
┌───────────────────────┐
│                       │
│    Design complete    │
│                       │
└───────────────────────┘

</code></pre>
<p>Tools we used in our design process:</p>
<ul>
<li><a href="https://kicad.org/">KiCad</a> : for schematic and PCB design</li>
<li><a href="https://www.gnu.org/software/octave/index">GNU Octave</a> : for helping create the spectral model</li>
<li><a href="https://markummitchell.github.io/engauge-digitizer/">Engauge Digitizer</a> : for digitizing the spectral graphs of each LED</li>
<li>Microsoft Excel : for creating a pretty graph of the spectrum</li>
</ul>
<h3><a class="header" href="#research" id="research">Research</a></h3>
<p>The research phase of this project took the largest chunk of our time, as we initially had trouble finding suitable LEDs for our project. This, coupled with the design complexity each different kind of LED would bring, made it very hard initially to get this off the ground. We decided to take the relative spectral power graphs from each LED we were interested in and digitize the data so we could model how different combinations of each LED would change the total output spectrum. Using this we were able to get a relatively close spectral match with just 5 different types of LEDs.</p>
<table><thead><tr><th>LED Manufacturer</th><th>Model</th><th>LED Count</th></tr></thead><tbody>
<tr><td>Cree</td><td>MHBBWT-0000-000C0BE240E</td><td>20</td></tr>
<tr><td>Cree</td><td>MHBBWT-0000-000C0BD430E</td><td>20</td></tr>
<tr><td>Lumileds</td><td>L1CU-CYN1000000000</td><td>60</td></tr>
<tr><td>Lumileds</td><td>LXM3-PD01</td><td>40</td></tr>
<tr><td>Lumileds</td><td>LXML-PF01</td><td>100</td></tr>
</tbody></table>
<h3><a class="header" href="#component-selection" id="component-selection">Component Selection</a></h3>
<p>After deciding on how many different kinds of LEDs and how many of each kind we'd need, we decided to calculate voltage and current requirements for our board. Initially, given the variety of voltages that each kind of LED operated at, we had thought it a good idea to look into designing a custom DC-DC power supply to power our project. It quickly became obvious that the best solution in our case would be to buy an off-the-shelf DC power supply and use resistors to drop any extra voltage. When it came to selecting what kind of transistor we would use, we arrived at a cheap MOSFET that fit our voltage and current requirements. Finally, for resistors, we decided to run a lot of resistors in parallel such that the equivalent resistance matched our calculations, and that each resistor only had to be able to handle 0.25-0.5W.</p>
<h3><a class="header" href="#initial-schematic-creation" id="initial-schematic-creation">Initial Schematic Creation</a></h3>
<p>We consulted with a few professors to aid in the schematic part of the process, which ultimately resulted in a few different iterations of the schematic being created over the weeks that we worked on it. We decided to order small amounts of each component to verify that the function of each component on a small scale would agree with how we designed the schematic. Once we verified that each component would work as intended, we got to work on scaling up our small-scale schematic to the final number of LEDs required by our design.</p>
<h3><a class="header" href="#place-and-route" id="place-and-route">Place and Route</a></h3>
<p>The software we used offered netlist export, which generated a very useful ratsnest which draws lines between pads that need to be connected together. The netlist import within the PCB creation tool also automatically places the correct number of components, given that the component has a linked footprint in the schematic and that the netlist you exported is current with the schematic. We met with the team that would be working on focusing the light that comes out of the board, and they requested that we make the board reasonably small, and that each type of LED be evenly distributed around the board. Using those two bits of information as a starting point, we decided the board would be 5&quot;x5&quot;, and we would lay out the LEDs in a roughly circular pattern. Given those constraints, and the fact that we have a pretty high current requirement, we quickly learned that a two layer board was not an option. The manufacturer that we decided to go with, JLCPCB, offers boards with layers in multiples of two, with inside layers having half as much copper as outside layers. With this in mind, we calculated the minimum trace widths we'd need for each trace to carry the amount of current we needed, and proceeded with routing.</p>
<h1><a class="header" href="#complete-schematic" id="complete-schematic">Complete Schematic</a></h1>
<h1><a class="header" href="#led-board-design" id="led-board-design">LED Board Design</a></h1>
<div id="container">
</div>
<script src="../assets/three.js"></script>
<script src="../assets/OrbitControls.js"></script>
<script src="../assets/VRMLLoader.js"></script>
<script src="../assets/WebGL.js"></script>
<script src="../assets/LEDBoard.js"></script><h1><a class="header" href="#power-board-design" id="power-board-design">Power Board Design</a></h1>
<div id="container">
    <div id="canvas"></div>
</div>
<script src="../assets/three.js"></script>
<script src="../assets/OrbitControls.js"></script>
<script src="../assets/VRMLLoader.js"></script>
<script src="../assets/WebGL.js"></script>
<script src="../assets/PowerBoard.js"></script><h1><a class="header" href="#conclusions" id="conclusions">Conclusions</a></h1>
<h1><a class="header" href="#troubleshooting" id="troubleshooting">Troubleshooting</a></h1>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
